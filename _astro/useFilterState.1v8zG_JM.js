import{s as h,a as u,t as m,c as p}from"./workflowStore.VkBnE0Dg.js";import{u as v}from"./index.B7NJnXMd.js";import{g as F,b as w,j as a}from"./runtime-core.esm-bundler.CPoRpbOD.js";(function(){try{var t=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};t.SENTRY_RELEASE={id:"6bf48a64ccfa267ad42996b76bff5944ba2fb97a"};var s=new t.Error().stack;s&&(t._sentryDebugIds=t._sentryDebugIds||{},t._sentryDebugIds[s]="0d8ed66e-5f36-4b13-aa99-cc9fe4ca15c7",t._sentryDebugIdIdentifier="sentry-dbid-0d8ed66e-5f36-4b13-aa99-cc9fe4ca15c7")}catch{}})();function D(t){const{workflows:s,closeOnSelect:i}=t,b=v(u),c=w([]),d=w(!1),f=a(()=>{const e=new Set;for(const o of s)for(const n of o.collections)e.add(n);return Array.from(e).sort()}),l=a(()=>{const e={};for(const o of s)for(const n of o.collections)e[n]=(e[n]||0)+1;return e}),g=a(()=>[...f.value].sort((e,o)=>(l.value[o]||0)-(l.value[e]||0)));F(()=>{h(),c.value=[...b.value],d.value=!0}),u.subscribe(e=>{d.value&&(c.value=[...e])});function S(e){if(window.location.pathname==="/"){const n=c.value.includes(e);m(e);const r=new URLSearchParams(window.location.search);n?r.delete("filter"):r.set("filter",e);const y=r.toString()?`?${r.toString()}`:"/";window.history.pushState({},"",y)}else window.location.href=`/collection/${p(e)}`;i?.()}return{selected:c,collections:f,collectionCounts:l,sortedCollections:g,handleFilterClick:S}}export{D as u};
